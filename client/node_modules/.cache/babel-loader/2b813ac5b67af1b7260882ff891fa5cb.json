{"ast":null,"code":"var _jsxFileName = \"/Users/emilyhernandez/Documents/story-gear-ecommerce/client/src/Components/Products/index.jsx\";\nimport React from 'react'; // import product from './products.json';\n\nimport API from \"../../utils/API\";\nimport ListProducts from './ListProducts';\nimport './index.css';\n\nclass Products extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      tag: \"\",\n      //category\n      val: \"\",\n      //monetary_value\n      filteredProducts: []\n    };\n    this.category = React.createRef();\n    this.price = React.createRef();\n\n    this.handleProductChange = e => {\n      // event.preventDefault();\n      API.getProducts(this.setState.category).then(res => this.setState({\n        category: res.data // this.category.current.value\n\n      })).catch(err => console.log(err));\n    };\n\n    this.handlePriceChange = e => {\n      this.setState({\n        val: this.price.current.value\n      });\n    };\n  }\n\n  componentDidMount() {\n    fetch('http://localhost:3001/api/products/type/cameras/price/high').then(res => res.json()).then(items => {\n      this.setState({\n        products: items\n      });\n      console.log(this.state.products);\n    });\n  }\n\n  render() {\n    // let results = [];\n    // results.push(<ListProducts title={prod.title} image={prod.image} alt={prod.alt} price={prod.price} description={prod.description}/>);\n    const productResults = this.state.products; //this sets it up so that if there's no data to work with in the beginning, it checks to see if there is data. you will always be null when you start the server and wait for the data to come back \n\n    const products = productResults !== null ? productResults : \"fail\";\n    const mapProducts = products.map(prod => {\n      return React.createElement(ListProducts, {\n        title: prod.title,\n        image: prod.image,\n        alt: prod.alt,\n        price: prod.price,\n        description: prod.description,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      });\n    });\n    console.log(mapProducts);\n    return React.createElement(\"div\", {\n      className: \"main\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"desktop\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      id: \"slogan\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, \"Tell Us A Story.\")), React.createElement(\"form\", {\n      className: \"filter\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, React.createElement(\"select\", {\n      ref: this.category,\n      onChange: this.handleProductChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      value: \"all\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, \"All Products\"), React.createElement(\"option\", {\n      value: \"cameras\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, \"Cameras\"), React.createElement(\"option\", {\n      value: \"lens\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, \"Lens\"), React.createElement(\"option\", {\n      value: \"tripods\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, \"Tripods\"), React.createElement(\"option\", {\n      value: \"lights\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, \"Lights\"), React.createElement(\"option\", {\n      value: \"camera-bags\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, \"Camera Bags\"), React.createElement(\"option\", {\n      value: \"storage\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, \"Storage\")), React.createElement(\"select\", {\n      ref: this.price,\n      onChange: this.handlePriceChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      value: \"allPrices\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, \"All Prices\"), React.createElement(\"option\", {\n      value: \"low\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, \"Low\"), React.createElement(\"option\", {\n      value: \"medium\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, \"Medium\"), React.createElement(\"option\", {\n      value: \"high\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, \"High\"))), productResults == null && React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, \"\\\"Please wait, the page is loading\\\"\"), mapProducts);\n  }\n\n}\n\nexport default Products;","map":{"version":3,"sources":["/Users/emilyhernandez/Documents/story-gear-ecommerce/client/src/Components/Products/index.jsx"],"names":["React","API","ListProducts","Products","Component","state","tag","val","filteredProducts","category","createRef","price","handleProductChange","e","getProducts","setState","then","res","data","catch","err","console","log","handlePriceChange","current","value","componentDidMount","fetch","json","items","products","render","productResults","mapProducts","map","prod","title","image","alt","description"],"mappings":"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","sourcesContent":["import React from 'react';\n// import product from './products.json';\nimport API from \"../../utils/API\"\nimport ListProducts from './ListProducts';\nimport './index.css';\n\nclass Products extends React.Component {\n  state = {\n      tag: \"\",\n      //category\n      val: \"\",\n      //monetary_value\n      filteredProducts: []\n    }\n\n  category = React.createRef();\n  price = React.createRef();\n\n  componentDidMount() {\n    fetch('http://localhost:3001/api/products/type/cameras/price/high')\n    .then(res => res.json())\n    .then(items => {\n      this.setState({\n        products: items\n      })\n      console.log(this.state.products)\n    })\n  };\n\n  handleProductChange = (e) => {\n    // event.preventDefault();\n    API.getProducts(this.setState.category)\n      .then(res => \n        this.setState({\n          category: res.data\n          // this.category.current.value\n        }))\n        .catch(err => console.log(err));\n  };\n\n  handlePriceChange = (e) => {\n    this.setState({\n      val: this.price.current.value\n    })\n  }\n\n\n  render() {\n      // let results = [];\n      // results.push(<ListProducts title={prod.title} image={prod.image} alt={prod.alt} price={prod.price} description={prod.description}/>);\n\n      const productResults = this.state.products\n      //this sets it up so that if there's no data to work with in the beginning, it checks to see if there is data. you will always be null when you start the server and wait for the data to come back \n      const products = (productResults !== null) \n          ? productResults \n          : \"fail\"\n      const mapProducts = products.map(prod => {\n        return <ListProducts title={prod.title} image={prod.image} alt={prod.alt} price={prod.price} description={prod.description}/>\n      });\n      console.log(mapProducts)\n\n \n    \n\n    return (\n      <div className=\"main\"> \n       <div className=\"desktop\">\n          <p id=\"slogan\">Tell Us A Story.</p>\n        </div>\n\n       <form className=\"filter\">\n         <select ref={this.category} onChange= {this.handleProductChange}>\n          <option value=\"all\">All Products</option>\n          <option value=\"cameras\">Cameras</option>\n          <option value=\"lens\">Lens</option>\n          <option value=\"tripods\">Tripods</option>\n          <option value=\"lights\">Lights</option>\n          <option value=\"camera-bags\">Camera Bags</option>\n          <option value=\"storage\">Storage</option>\n        </select>\n        <select ref={this.price} onChange= {this.handlePriceChange}>\n          <option value=\"allPrices\">All Prices</option>\n          <option value=\"low\">Low</option>\n          <option value=\"medium\">Medium</option>\n          <option value=\"high\">High</option>\n        </select>\n       </form>\n    \n      {productResults == null && \n      <p>\"Please wait, the page is loading\"</p>}\n      {mapProducts}\n      </div>\n      \n    );\n  }\n    \n}\n\nexport default Products;"]},"metadata":{},"sourceType":"module"}